var shell=require("shelljs");module.exports=function(e){e.initConfig({pkg:e.file.readJSON("package.json"),po2mo:{options:{},files:{src:"ReduxCore/languages/*.po",expand:!0}},concat:{options:{separator:";"},core:{src:["ReduxCore/assets/js/vendor/cookie.js","ReduxCore/assets/js/vendor/qtip/jquery.qtip.js","ReduxCore/assets/js/vendor/jquery.typewatch.js","ReduxCore/assets/js/vendor/jquery.serializeForm.min.js","ReduxCore/assets/js/vendor/spinner_custom.js","ReduxCore/assets/js/vendor/jquery.alphanum.js","ReduxCore/assets/js/vendor/select2.sortable.js","ReduxCore/assets/js/vendor/minicolors/jquery.minicolors.js","ReduxCore/inc/fields/**/*.js","ReduxCore/extensions/**/*.js","ReduxCore/assets/js/redux.js"],dest:"ReduxCore/assets/js/redux.min.js"},vendor:{src:["ReduxCore/assets/js/vendor/cookie.js","ReduxCore/assets/js/vendor/qtip/jquery.qtip.js","ReduxCore/assets/js/vendor/jquery.serializeForm.min.js","ReduxCore/assets/js/vendor/jquery.typewatch.js","ReduxCore/assets/js/vendor/spinner_custom.js","ReduxCore/assets/js/vendor/jquery.alphanum.js","ReduxCore/assets/js/vendor/select2.sortable.js"],dest:"ReduxCore/assets/js/vendor.min.js"}},"gh-pages":{options:{base:"docs",message:"Update docs and files to distribute"},dev:{src:["docs/**/*","bin/CNAME"]},travis:{options:{repo:"https://"+process.env.GH_TOKEN+"@github.com/ReduxFramework/docs.reduxframework.com.git",user:{name:"Travis",email:"travis@travis-ci.org"},silent:!1},src:["**/*"]}},uglify:{core:{options:{},files:{"ReduxCore/assets/js/redux.min.js":["ReduxCore/assets/js/redux.min.js"]}},extensions:{files:[{expand:!0,cwd:"ReduxCore/extensions",src:"**/*.js",ext:".min.js",dest:"ReduxCore/extensions"}]},vendor:{files:{"ReduxCore/assets/js/vendor.min.js":["ReduxCore/assets/js/vendor.min.js"]}}},qunit:{files:["test/qunit/**/*.html"]},jshint:{files:["ReduxCore/inc/fields/**/*.js","ReduxCore/extensions/**/*.js","ReduxCore/assets/js/redux.js"],options:{expr:!0,globals:{jQuery:!0,console:!0,redux_change:!0,module:!0,document:!0}}},watch:{ui:{files:["<%= jshint.files %>"],tasks:["jshint"]},php:{files:["ReduxCore/**/*.php"],tasks:["phplint:core"]},css:{files:["ReduxCore/**/*.less"],tasks:["less:development"]}},phpdocumentor:{options:{directory:"ReduxCore/",target:"docs/"},generate:{}},phplint:{options:{swapPath:"./"},core:["ReduxCore/**/*.php"],plugin:["class-redux-plugin.php","index.php","redux-framework.php"]},less:{development:{options:{paths:"ReduxCore/"},files:[{expand:!0,cwd:"ReduxCore/inc/fields",src:["**/*.less"],dest:"ReduxCore/inc/fields",ext:".css"}]},extensions:{files:[{expand:!0,cwd:"ReduxCore/extensions/",src:["**/*.less"],dest:"ReduxCore/extensions/",ext:".css"}]},production:{options:{compress:!0,cleancss:!0,ieCompat:!0,relativeUrls:!0,paths:"ReduxCore/"},files:{"ReduxCore/assets/css/redux.css":["ReduxCore/inc/fields/**/*.less","ReduxCore/extensions/**/*.less","ReduxCore/assets/css/admin.less"],"ReduxCore/assets/css/admin.css":["ReduxCore/assets/css/admin.less"]}},dist:{options:{compress:!0,cleancss:!0,ieCompat:!0,relativeUrls:!0,report:"gzip",paths:"ReduxCore/"},files:{"ReduxCore/assets/css/redux.css":["ReduxCore/inc/fields/**/*.less","ReduxCore/extensions/**/*.less","ReduxCore/assets/css/admin.less"],"ReduxCore/assets/css/admin.css":["ReduxCore/assets/css/admin.less"]}}},recess:{dist:{src:["ReduxCore/assets/css/admin.less"]}}});e.loadNpmTasks("grunt-contrib-uglify");e.loadNpmTasks("grunt-contrib-jshint");e.loadNpmTasks("grunt-contrib-watch");e.loadNpmTasks("grunt-contrib-concat");e.loadNpmTasks("grunt-phpdocumentor");e.loadNpmTasks("grunt-gh-pages");e.loadNpmTasks("grunt-phplint");e.loadNpmTasks("grunt-contrib-less");e.loadNpmTasks("grunt-po2mo");e.loadNpmTasks("grunt-recess");e.registerTask("langUpdate","Update languages",function(){shell.exec("tx pull -a --minimum-perc=25");shell.exec("grunt po2mo");shell.exec("rm -f ReduxCore/languages/*.po");shell.exec("php bin/makepot/gen.php")});e.registerTask("default",["jshint","concat:core","uglify:core","concat:vendor","uglify:vendor","less:production","less:development","less:extensions"]);e.registerTask("travis",["jshint","lintPHP"]);e.registerTask("testJS",["jshint","concat:core","concat:vendor"]);e.registerTask("watchUI",["watch:ui"]);e.registerTask("watchPHP",["watch:php","phplint:core","phplint:plugin"]);e.registerTask("lintPHP",["phplint:plugin","phplint:core"]);e.registerTask("lintLESS",["recess:dist"]);e.registerTask("compileCSS",["less:production","less:development","less:extensions"]);e.registerTask("compileJS",["jshint","concat:core","uglify:core","concat:vendor","uglify:vendor"]);e.registerTask("compileTestJS",["jshint","concat:core","concat:vendor"])};